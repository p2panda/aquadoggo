    Finished test [unoptimized + debuginfo] target(s) in 0.15s
     Running unittests src/lib.rs (target/debug/deps/aquadoggo-facc7ed5c89a2853)

running 210 tests
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
-------------- TEST START --------------
test db::stores::document::tests::insert_document_view_with_missing_operation ... ok
-------------- TEST START --------------
test db::stores::document::tests::document_view_does_not_exist ... ok
-------------- TEST START --------------
test db::stores::document::tests::inserts_gets_one_document_view ... ok
-------------- TEST START --------------
test db::stores::document::tests::gets_document_by_id ... ok
-------------- TEST START --------------
test db::stores::document::tests::inserts_gets_documents ... ok
-------------- TEST START --------------
test db::stores::entry::tests::insert_entry ... ok
-------------- TEST START --------------
test db::stores::document::tests::inserts_gets_many_document_views ... ok
-------------- TEST START --------------
test db::stores::document::tests::get_documents_by_schema_deleted_document ... ok
-------------- TEST START --------------
test db::stores::document::tests::no_view_when_document_deleted ... ok
-------------- TEST START --------------
test db::stores::log::tests::document_log_id ... ok
-------------- TEST START --------------
test db::stores::log::tests::initial_log_id ... ok
-------------- TEST START --------------
test db::stores::log::tests::latest_log_id ... ok
-------------- TEST START --------------
test db::stores::log::tests::log_ids ... ok
-------------- TEST START --------------
test db::stores::log::tests::prevent_duplicate_log_ids ... ok
-------------- TEST START --------------
test db::stores::document::tests::updates_a_document ... ok
-------------- TEST START --------------
test db::stores::entry::tests::entry_by_seq_number ... ok
-------------- TEST START --------------
test db::stores::log::tests::selecting_next_log_id ... ok
-------------- TEST START --------------
test db::stores::log::tests::with_multi_hash_schema_id ... ok
-------------- TEST START --------------
test db::stores::operation::tests::insert_get_operations::case_1_create_operation ... ok
-------------- TEST START --------------
test db::stores::operation::tests::gets_document_by_operation_id ... ok
-------------- TEST START --------------
test db::stores::operation::tests::insert_get_operations::case_2_update_operation ... ok
test db::stores::operation::tests::insert_get_operations::case_3_update_operation_many_prev_ops ... ok
-------------- TEST START --------------
-------------- TEST START --------------
test db::stores::operation::tests::insert_get_operations::case_5_delete_operation_many_prev_ops ... ok
-------------- TEST START --------------
test db::stores::operation::tests::insert_get_operations::case_4_delete_operation ... ok
-------------- TEST START --------------
test db::stores::operation::tests::insert_operation_twice ... ok
-------------- TEST START --------------
test db::stores::schema::tests::get_all_schema::case_1_works ... ok
-------------- TEST START --------------
test db::stores::schema::tests::get_all_schema::case_2_does_not_work ... ok
-------------- TEST START --------------
test db::stores::operation::tests::get_operations_by_document_id ... ok
-------------- TEST START --------------
test db::stores::schema::tests::get_schema::case_1_valid_schema_and_fields ... ok
-------------- TEST START --------------
test db::stores::schema::tests::get_schema_errors::case_1_fields_missing_name_field ... ok
-------------- TEST START --------------
test db::stores::schema::tests::get_schema_errors::case_2_fields_missing_type_field ... ok
-------------- TEST START --------------
test db::stores::schema::tests::get_schema_errors::case_3_schema_missing_name_field ... ok
-------------- TEST START --------------
test db::stores::schema::tests::schema_fields_do_not_exist::case_1_schema_fields_do_not_exist ... ok
-------------- TEST START --------------
test db::stores::task::tests::avoid_duplicates ... ok
test db::utils::tests::operation_values_to_string_vec ... ok
test db::utils::tests::parses_document_field_rows ... ok
test db::stores::schema::tests::get_schema_errors::case_4_schema_missing_name_description ... ok
test db::stores::task::tests::insert_get_remove_tasks ... ok
-------------- TEST START --------------
-------------- TEST START --------------
test db::utils::tests::parses_operation_rows ... ok
-------------- TEST START --------------
test domain::tests::errors_when_passed_non_existent_view_id ... ok
-------------- TEST START --------------
test domain::tests::gets_document_id_for_view ... ok
-------------- TEST START --------------
thread 'domain::tests::next_args_deleted_documents::case_1' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Document is deleted", extensions: None }', aquadoggo/src/domain.rs:1034:16
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test domain::tests::next_args_deleted_documents::case_1 - should panic ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_01 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_02 ... ok
-------------- TEST START --------------
thread 'domain::tests::next_args_deleted_documents::case_2' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Document is deleted", extensions: None }', aquadoggo/src/domain.rs:1034:16
test domain::tests::next_args_deleted_documents::case_2 - should panic ... ok
-------------- TEST START --------------
test db::stores::entry::tests::try_insert_non_unique_entry ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_03 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_04 ... ok
-------------- TEST START --------------
test db::stores::document::tests::gets_documents_by_schema ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_05 ... ok
-------------- TEST START --------------
test domain::tests::gets_next_args_other_cases ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_09 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_06 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_10 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_07 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_11 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_12 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_08 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_13 ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_expected_results::case_14 ... ok
-------------- TEST START --------------
test db::stores::entry::tests::get_lipmaa_link_entries ... ok
-------------- TEST START --------------
test db::stores::entry::tests::latest_entry ... ok
-------------- TEST START --------------
test db::stores::entry::tests::get_entry_by_hash ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_missing_operations::case_2_ok_many_previous_operations ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_missing_operations::case_1_ok_single_writer ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_missing_operations::case_3_ok_not_the_most_recent_document_view_id ... ok
-------------- TEST START --------------
test domain::tests::publish_create_log_tests::case_1_owner_publishes_to_correct_log ... ok
-------------- TEST START --------------
test domain::tests::publish_create_log_tests::case_2_new_author_publishes_to_new_log ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_create_log_tests::case_3_owner_publishes_to_wrong_and_taken_log' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed seq num of 1 does not match expected seq num of 2 for given author and log", extensions: None }', aquadoggo/src/domain.rs:955:16
test domain::tests::publish_create_log_tests::case_3_owner_publishes_to_wrong_and_taken_log - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_create_log_tests::case_4_owner_publishes_to_wrong_but_free_log' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed log id of 3 does not match expected next log id of 2 for given author", extensions: None }', aquadoggo/src/domain.rs:955:16
test domain::tests::publish_create_log_tests::case_4_owner_publishes_to_wrong_but_free_log - should panic ... ok
-------------- TEST START --------------
test domain::tests::next_args_with_missing_operations::case_4_ok_multi_writer ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_create_log_tests::case_5_new_author_publishes_to_wrong_new_log' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed log id of 1 does not match expected next log id of 0 for given author", extensions: None }', aquadoggo/src/domain.rs:955:16
test domain::tests::publish_create_log_tests::case_5_new_author_publishes_to_wrong_new_log - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_to_deleted_documents::case_1' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "You are trying to update or delete a document which has been deleted", extensions: None }', aquadoggo/src/domain.rs:1008:16
test domain::tests::publish_to_deleted_documents::case_1 - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_to_deleted_documents::case_2' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "You are trying to update or delete a document which has been deleted", extensions: None }', aquadoggo/src/domain.rs:1008:16
test domain::tests::publish_to_deleted_documents::case_2 - should panic ... ok
-------------- TEST START --------------
test domain::tests::publish_update_log_tests::case_2_new_author_updates_to_new_log ... ok
-------------- TEST START --------------
test domain::tests::publish_update_log_tests::case_1_owner_publishes_update_to_correct_log ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_update_log_tests::case_3_owner_updates_to_wrong_and_taken_log' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed log id of 1 does not match existing log id of 0 for given author and document", extensions: None }', aquadoggo/src/domain.rs:915:16
test domain::tests::publish_update_log_tests::case_3_owner_updates_to_wrong_and_taken_log - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_update_log_tests::case_4_owner_updates_to_wrong_but_free_log' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed log id of 2 does not match existing log id of 0 for given author and document", extensions: None }', aquadoggo/src/domain.rs:915:16
test domain::tests::publish_update_log_tests::case_4_owner_updates_to_wrong_but_free_log - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::next_args_with_missing_operations::case_5_previous_operation_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 76e89a> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:712:16
test domain::tests::next_args_with_missing_operations::case_5_previous_operation_missing - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_update_log_tests::case_5_new_author_updates_to_wrong_new_log' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed log id of 1 does not match expected next log id of 0 for given author", extensions: None }', aquadoggo/src/domain.rs:915:16
test domain::tests::publish_update_log_tests::case_5_new_author_updates_to_wrong_new_log - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::next_args_with_missing_operations::case_6_one_of_some_previous_operations_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 51fbba> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:712:16
test domain::tests::next_args_with_missing_operations::case_6_one_of_some_previous_operations_missing - should panic ... ok
-------------- TEST START --------------
test domain::tests::publish_many_entries ... ok
-------------- TEST START --------------
thread 'domain::tests::next_args_with_missing_operations::case_7_one_of_some_previous_operations_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 76e89a> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:712:16
test domain::tests::next_args_with_missing_operations::case_7_one_of_some_previous_operations_missing - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_entries::case_3_backlink_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed seq num of 8 does not match expected seq num of 7 for given author and log", extensions: None }', aquadoggo/src/domain.rs:560:16
thread 'domain::tests::publish_with_missing_entries::case_2_skiplink_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Expected skiplink target for <Author 53fc96>, log id 0 and seq num 8 not found in database", extensions: None }', aquadoggo/src/domain.rs:560:16
test domain::tests::publish_with_missing_entries::case_3_backlink_missing - should panic ... ok
test domain::tests::publish_with_missing_entries::case_2_skiplink_missing - should panic ... ok
-------------- TEST START --------------
-------------- TEST START --------------
test domain::tests::publish_with_missing_entries::case_1_ok ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_entries::case_4_backlink_and_skiplink_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed seq num of 8 does not match expected seq num of 7 for given author and log", extensions: None }', aquadoggo/src/domain.rs:560:16
thread 'domain::tests::next_args_with_missing_operations::case_8_missing_previous_operation_multi_writer' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 76e89a> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:712:16
test domain::tests::publish_with_missing_entries::case_4_backlink_and_skiplink_missing - should panic ... ok
test domain::tests::next_args_with_missing_operations::case_8_missing_previous_operation_multi_writer - should panic ... ok
-------------- TEST START --------------
-------------- TEST START --------------
thread 'domain::tests::next_args_with_missing_operations::case_9_previous_operations_invalid_multiple_document_id' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Invalid document view id: operations in passed document view id originate from different documents", extensions: None }', aquadoggo/src/domain.rs:712:16
test domain::tests::next_args_with_missing_operations::case_9_previous_operations_invalid_multiple_document_id - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_entries::case_5_seq_num_occupied_again' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed seq num of 8 does not match expected seq num of 9 for given author and log", extensions: None }', aquadoggo/src/domain.rs:560:16
test domain::tests::publish_with_missing_entries::case_5_seq_num_occupied_again - should panic ... ok
thread 'domain::tests::publish_with_missing_entries::case_6_seq_num_occupied_' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed seq num of 7 does not match expected seq num of 9 for given author and log", extensions: None }', aquadoggo/src/domain.rs:560:16
-------------- TEST START --------------
test domain::tests::publish_with_missing_entries::case_6_seq_num_occupied_ - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_entries::case_8_no_entries_yet' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Entry's claimed seq num of 8 does not match expected seq num of 1 for given author and log", extensions: None }', aquadoggo/src/domain.rs:560:16
test domain::tests::publish_with_missing_entries::case_8_no_entries_yet - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_entries::case_7_next_args_skiplink_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Expected next skiplink missing", extensions: None }', aquadoggo/src/domain.rs:560:16
test domain::tests::publish_with_missing_entries::case_7_next_args_skiplink_missing - should panic ... ok
-------------- TEST START --------------
test domain::tests::publish_with_missing_operations::case_3_ok_multi_writer ... ok
-------------- TEST START --------------
test domain::tests::publish_with_missing_operations::case_1_ok_single_writer ... ok
-------------- TEST START --------------
test domain::tests::publish_with_missing_operations::case_2_ok_many_previous_operations ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::post_gql_mutation ... ok
-------------- TEST START --------------
Response {
    data: Object(
        {
            Name(
                "publishEntry",
            ): Object(
                {
                    Name(
                        "logId",
                    ): String(
                        "0",
                    ),
                    Name(
                        "seqNum",
                    ): String(
                        "2",
                    ),
                    Name(
                        "backlink",
                    ): String(
                        "0020c096422b3c865e5b85ec67a82d5c1d19de43d57c4a3d902ea62b90d96ad32fda",
                    ),
                    Name(
                        "skiplink",
                    ): Null,
                },
            ),
        },
    ),
    extensions: {},
    cache_control: CacheControl {
        public: true,
        max_age: 0,
    },
    errors: [],
    http_headers: {},
}
test graphql::client::mutation::tests::publish_entry ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::duplicate_publishing_of_entries ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::publish_entry_error_handling ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_01_no_entry ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::sends_message_on_communication_bus ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_02_invalid_entry_bytes ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_03_invalid_entry_hex_encoding ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_04_no_operation ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_05_invalid_operation_bytes ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_06_invalid_operation_hex_encoding ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_operations::case_7_missing_previous_operation_multi_writer' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 76e89a> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:642:16
test domain::tests::publish_with_missing_operations::case_7_missing_previous_operation_multi_writer - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_operations::case_4_previous_operation_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 76e89a> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:642:16
test domain::tests::publish_with_missing_operations::case_4_previous_operation_missing - should panic ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_07_operation_does_not_match ... ok
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_08_valid_entry_with_extra_hex_char_at_end ... ok
-------------- TEST START --------------
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_09_valid_entry_with_extra_hex_char_at_start ... ok
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_10_should_not_have_skiplink ... ok
-------------- TEST START --------------
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_11_should_not_have_backlink ... ok
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_12_should_not_have_backlink_or_skiplink ... ok
-------------- TEST START --------------
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_operations::case_6_one_of_some_previous_operations_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 76e89a> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:642:16
test domain::tests::publish_with_missing_operations::case_6_one_of_some_previous_operations_missing - should panic ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_operations::case_5_one_of_some_previous_operations_missing' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "<Operation 51fbba> not found, could not determine document id", extensions: None }', aquadoggo/src/domain.rs:642:16
test domain::tests::publish_with_missing_operations::case_5_one_of_some_previous_operations_missing - should panic ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_13_missing_backlink ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_14_missing_skiplink ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_15_should_not_include_skiplink ... ok
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_16_payload_hash_and_size_missing ... ok
-------------- TEST START --------------
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_17_create_operation_with_previous_operations ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_18_update_operation_no_previous_operations ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validates_encoded_entry_and_operation_integrity::case_19_delete_operation_no_previous_operations ... ok
-------------- TEST START --------------
thread 'domain::tests::publish_with_missing_operations::case_8_previous_operations_invalid_multiple_document_id' panicked at 'called `Result::unwrap()` on an `Err` value: Error { message: "Invalid document view id: operations in passed document view id originate from different documents", extensions: None }', aquadoggo/src/domain.rs:642:16
test domain::tests::publish_with_missing_operations::case_8_previous_operations_invalid_multiple_document_id - should panic ... ok
-------------- TEST START --------------
test db::stores::entry::tests::entries_by_schema ... ok
-------------- TEST START --------------
test graphql::client::query::tests::next_entry_args_error_response ... ok
-------------- TEST START --------------
test graphql::client::query::tests::next_entry_args_valid_query ... ok
-------------- TEST START --------------
test db::stores::entry::tests::paginated_log_entries ... ok
-------------- TEST START --------------
test graphql::client::query::tests::next_entry_args_valid_query_with_document_id ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validation_of_entry_and_operation_values::case_6_claimed_log_id_does_not_match_expected ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validation_of_entry_and_operation_values::case_1_backlink_and_skiplink_not_in_db ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validation_of_entry_and_operation_values::case_5_previous_operations_not_in_db ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::publish_many_entries ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validation_of_entry_and_operation_values::case_2_backlink_not_in_db ... ok
-------------- TEST START --------------
test graphql::client::mutation::tests::validation_of_entry_and_operation_values::case_3_not_the_next_seq_num ... ok
-------------- TEST START --------------
test graphql::replication::query::tests::entries_newer_than_seq_num_cursor::case_2_no_edges_or_next_page ... ok
-------------- TEST START --------------
test graphql::replication::query::tests::entry_by_hash_not_found ... ok
test graphql::scalars::log_id::tests::serde_log_id_as_string ... ok
test graphql::scalars::seq_num::tests::serde_seq_num_as_string ... ok
-------------- TEST START --------------
test graphql::replication::query::tests::entry_by_log_id_and_seq_num_not_found ... ok
test manager::tests::communication_bus ... ok
test graphql::replication::query::tests::entry_by_hash ... ok
test graphql::replication::query::tests::entry_by_log_id_and_seq_num ... ok
test http::service::tests::graphql_endpoint ... ok
-------------- TEST START --------------
-------------- TEST START --------------
test graphql::client::mutation::tests::validation_of_entry_and_operation_values::case_4_occupied_seq_num ... ok
-------------- TEST START --------------
thread 'manager::tests::on_exit' panicked at 'This went wrong', aquadoggo/src/manager.rs:316:13
test manager::tests::on_exit ... ok
-------------- TEST START --------------
test materializer::service::tests::materialize_complex_documents::case_1 ... ok
-------------- TEST START --------------
test materializer::service::tests::materialize_complex_documents::case_2 ... ok
-------------- TEST START --------------
test graphql::replication::query::tests::entries_newer_than_seq_num_cursor::case_3_some_edges_no_next_page ... ok
-------------- TEST START --------------
test materializer::service::tests::materialize_complex_documents::case_3 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::dispatches_reduce_tasks_for_pinned_child_dependencies::case_1 ... ok
-------------- TEST START --------------
test materializer::service::tests::materialize_complex_documents::case_4 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::dispatches_reduce_tasks_for_pinned_child_dependencies::case_3 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::dispatches_reduce_tasks_for_pinned_child_dependencies::case_2 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::dispatches_reduce_tasks_for_pinned_child_dependencies::case_4 ... ok
-------------- TEST START --------------
test manager::tests::service_manager ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::dispatches_reduce_tasks_for_pinned_child_dependencies::case_5 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::fails_correctly::case_1 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::fails_correctly::case_2 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::fails_correctly::case_3 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::fails_correctly::case_4 ... ok
-------------- TEST START --------------
test materializer::service::tests::materialize_document_from_last_runtime ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::fails_on_deleted_documents::case_1 ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::fails_on_deleted_documents::case_2 ... ok
-------------- TEST START --------------
test materializer::tasks::reduce::tests::does_not_error_when_document_missing ... ok
-------------- TEST START --------------
test materializer::tasks::reduce::tests::fails_correctly::case_1 ... ok
-------------- TEST START --------------
test materializer::service::tests::materialize_document_from_bus ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::no_reduce_task_for_materialised_document_relations ... ok
-------------- TEST START --------------
test materializer::tasks::dependency::tests::dispatches_reduce_tasks_for_pinned_child_dependencies::case_6 ... ok
-------------- TEST START --------------
test graphql::replication::response::tests::validate_with_certificate_pool ... ok
-------------- TEST START --------------
test materializer::tasks::reduce::tests::reduces_document_to_specific_view_id ... ok
test materializer::service::tests::materialize_update_document ... ok
test materializer::tasks::reduce::tests::returns_dependency_task_inputs::case_2 ... ok
test materializer::tasks::reduce::tests::returns_dependency_task_inputs::case_1 ... ok
-------------- TEST START --------------
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 67.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 117.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 57.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 172.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 17.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 77.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 35.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 209.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 87.500µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 489.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 184.833µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 323.958µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 46.458µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 252.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 277.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 567.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 660.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 866.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 905.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.326ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.690ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.787ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.987ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.194ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.852ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 100.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 44.458µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 198.291µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 606.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.500µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 716.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 274.541µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 99.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 24.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 242.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 2.124ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 219.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 168, elapsed: 9.683ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 47.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 32.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 24.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 168, elapsed: 10.647ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 902.666µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 121.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 71.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 179.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 46.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 170.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 116.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020c8e09edd863b308f9c60b8ba506f29da512d0c9b5a131287f402c57777af5678",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 72.708µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 27.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 110.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 51.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 113.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 129.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 289.000µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 547.833µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 46.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 195.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 13, elapsed: 871.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c8e09edd863b308f9c60b8ba506f29da512d0c9b5a131287f402c57777af5678")): sorted to position 1
[2022-07-27T15:25:53Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00205969160ac3164753d1aa6d7eae1f300f4ca490214d5bcac8b651fcc12b23c481"))
[2022-07-27T15:25:53Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00205969160ac3164753d1aa6d7eae1f300f4ca490214d5bcac8b651fcc12b23c481")): sorted to position 2
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.416µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 950.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 41.583µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.583µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 228, elapsed: 7.689ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 35.958µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 96.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 65.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 186.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 60.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 12.750µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 74.125µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 14.791µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 105.500µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 287.000µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 497.666µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 132.208µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 901.875µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 969.375µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 695.791µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 94.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 268.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 52.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 101.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.334ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.457ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 83.958µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.472ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.512ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 23c481
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 104.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 1.133ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.469ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 17.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 87.208µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 158.375µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 83.000µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 120.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 62.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 13.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 12, elapsed: 273.416µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 5, elapsed: 194.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND CAST(seq_num AS NUMERIC) BETWEEN CAST($3 AS NUMERIC)
      and CAST($4 AS NUMERIC)
    ORDER BY
      CAST(seq_num AS NUMERIC)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 124.291µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
test materializer::tasks::reduce::tests::updates_a_document ... ok
-------------- TEST START --------------
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.034ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 20.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 44.250µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 85.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 14.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 180, elapsed: 4.343ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 71.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 335.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 126.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 100.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 897.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 131.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 827.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.547ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.682ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.503ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 59.000µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 64.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 573.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 43.208µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 32.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 43.250µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 226.375µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 40.541µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 26.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 25.291µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.500µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 73.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
test graphql::replication::query::tests::entries_newer_than_seq_num_cursor::case_4_edges_and_next_page ... ok
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 381.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 76.583µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
-------------- TEST START --------------
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 10, elapsed: 476.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND CAST(seq_num AS NUMERIC) BETWEEN CAST($3 AS NUMERIC)
      and CAST($4 AS NUMERIC)
    ORDER BY
      CAST(seq_num AS NUMERIC)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 54.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 31.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 555.666µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 29.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.000µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 74.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 38.958µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 31.000µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 82.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 166.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 91.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 401.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 18.625µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.473ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.581ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.342ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.614ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 534.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 31.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 71.291µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 90.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 96.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 108.583µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 37.083µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 13.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 14.791µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 50.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 693.458µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 52.458µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 329.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 93.375µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 121.458µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 17.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 90.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 70.375µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 66.750µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 33.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 112.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 180, elapsed: 3.490ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 210.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 22.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 277.583µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 138.708µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 305.583µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.060ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 437.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.457ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 95.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.140ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 166.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.291ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 69.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 134.916µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 31.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 335.333µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 466.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 94.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.105ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 101.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 898.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 214.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.178ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 87.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
test materializer::worker::tests::factory ... ok
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 156.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.190ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
-------------- TEST START --------------
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 120.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 62.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 255.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
test graphql::replication::query::tests::entries_newer_than_seq_num_cursor::case_1_default_params ... ok
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 117.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
-------------- TEST START --------------
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 147.625µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 17.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 66.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 16.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 67.708µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 56.291µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 914.125µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 16.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 773.708µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 54.541µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 23.375µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 29.375µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 12.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 36.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 33.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 93.000µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 69.708µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 27.916µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 42.500µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 30.250µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 91.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 25.041µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 28.125µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 30.083µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 133.750µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 109.041µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 39.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 44.375µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.333µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 28.166µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 27.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 85.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 249.250µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 53.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 247.208µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 205.500µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 412.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 76.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.687ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.465ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 26.583µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.936ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 142.458µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 384.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 29.375µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 61.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 107.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 114.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 263.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 501.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 489.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.588ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.585ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.716ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.960ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.114ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 845.625µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 112.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.165ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.727ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 98.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 671.625µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.221ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 27.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 59.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 18.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 183.583µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 185.458µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 370.083µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
test materializer::worker::tests::on_task_status_change_subscription ... ok
-------------- TEST START --------------
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 40.583µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 393.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 5, elapsed: 518.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND CAST(seq_num AS NUMERIC) BETWEEN CAST($3 AS NUMERIC)
      and CAST($4 AS NUMERIC)
    ORDER BY
      CAST(seq_num AS NUMERIC)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 84.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 142.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 239.958µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 1.045ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 26.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 62.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 37.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 99.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 153.041µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 74.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.130ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 178.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 169.041µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 354.333µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 75.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 18.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 28.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 81.708µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 346.291µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 79.041µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 203.041µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 70.791µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 55.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 52.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 143.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 112.166µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 72.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 70.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 162.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 38.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 77.125µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 155.625µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 719.375µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 166.000µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 409.416µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 378.458µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 152.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 912.166µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 1.060ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.078ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 991.916µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.019ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.520ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.373ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.406ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.236ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 100.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.176ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 123.375µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 195.500µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 295.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.126ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 332.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 31.208µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 84.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 32.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 31.458µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 78.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 309.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 843.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 918.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 1.126ms
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 55.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 87.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 837.166µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
test graphql::replication::query::tests::entries_newer_than_seq_num_cursor::case_5_edges_and_next_page_again ... ok
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.034ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
-------------- TEST START --------------
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.290ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 754.875µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 88.416µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 87.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 482.125µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 536.041µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 208.125µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 82.875µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 75.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 57.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z DEBUG aquadoggo::replication::service] Starting replication with remote peers
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 246.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 177.958µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 335.583µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 416.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 983.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 497.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 121.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 278.666µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 682.291µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 94.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 37.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 95.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.636ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.654ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 95.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 71.291µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 118.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 141.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.412ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.386ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 106.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.219ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 551.583µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.332ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.468ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 336.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 0, rows returned: 0, elapsed: 182.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.570ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z DEBUG aquadoggo::replication::service] Latest entry sequence number of 0 and <Author 53fc96>: None
[2022-07-27T15:25:53Z DEBUG reqwest::connect] starting new connection: http://localhost:3022/
[2022-07-27T15:25:53Z DEBUG hyper::client::connect::dns] resolving host="localhost"
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 101.875µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 445.458µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.495ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.419ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.463ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 39.666µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 62.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 64.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 60.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 322.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z DEBUG hyper::client::connect::http] connecting to [::1]:3022
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z DEBUG hyper::client::connect::http] connecting to 127.0.0.1:3022
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 108.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z DEBUG hyper::client::connect::http] connected to 127.0.0.1:3022
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 30.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::io] flushed 750 bytes
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 24.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::io] parsed 4 headers
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::conn] incoming body is content-length (636 bytes)
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::conn] incoming body completed
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 195.000µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 201.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 59.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 55.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 189.000µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 128.208µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 115.291µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 244.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 76.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 476.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 33.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 152.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND CAST(seq_num AS NUMERIC) BETWEEN CAST($3 AS NUMERIC)
      and CAST($4 AS NUMERIC)
    ORDER BY
      CAST(seq_num AS NUMERIC)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 292.250µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 134.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 140.250µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 30.833µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::io] flushed 2727 bytes
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::io] parsed 7 headers
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 195.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::conn] incoming body is content-length (2496 bytes)
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 38.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::conn] incoming body completed
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 326.500µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:53Z DEBUG hyper::client::pool] pooling idle connection for ("http", localhost:3022)
[2022-07-27T15:25:53Z DEBUG reqwest::async_impl::client] response '200 OK' for http://localhost:3022/graphql
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 56.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z DEBUG aquadoggo::replication::service] Received 1 new entries from peer http://localhost:3022/graphql
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 31.708µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 113.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 21.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 26.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 649.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 210.000µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 127.875µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 86.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z DEBUG hyper::proto::h1::conn] read eof
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 91.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 144.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 32.291µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 60.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 765.833µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 107.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 101.041µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 261.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 219.625µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 167.375µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 47.666µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 301.791µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 240.125µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 465.958µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.638ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 35.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.953ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 368.208µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.280ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.412ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.442ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.561ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.152ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.557ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 94.583µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.739ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 5.031ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 87.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 109.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 106.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 89.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.784ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 5.336ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 63.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 581.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.269ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 463.333µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 1.102ms
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 90.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 104.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.841ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 105.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.498ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.079ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.421ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 7.987ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 390.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.578ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.604ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.793ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 1.133ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 104.458µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 80.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 101.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.936ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 189.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 26.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 601.000µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 111.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 158.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 79.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 80.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 99.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 110.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 125.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 79.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 194.208µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.545ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 123.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 109.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 249.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 78.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 75.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 105.541µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 333.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 222.958µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.061ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 206.208µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 28.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 24.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 110.625µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 274.958µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 665.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 189.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 698.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 652.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 229.625µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 190.333µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 142.000µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.267ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.238ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 37.333µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 33.333µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 33.375µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 647.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 167.541µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 346.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 137.541µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 125.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 89.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 508.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 30.708µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 100.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 40.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 83.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.662ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 4.143ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 111.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 82.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.247ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.248ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.133ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.071ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 89.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 78.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 33.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 5.675ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 119.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 202.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 38.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 247.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 409.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 34.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 119.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 71.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 84.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 95.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 55.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 66.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 854.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 76.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 92.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 89.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 404.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 464.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 196.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 156.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 332.208µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 127.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 408.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 474.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 616.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 812.666µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.021ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.180ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 90.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 138.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 75.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 107.000µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 23.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.851ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 85.041µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 102.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 78.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 85.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 167.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 184.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 193.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 104.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 602.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 615.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 711.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 962.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.761ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 483.916µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.200ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 23.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 130.875µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 20.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 239.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 1.032ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 202.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 1.991ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 2.069ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 31.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 23.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 30.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 36.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 25.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 129.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 708.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 994.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 13.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 50.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 41.208µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 35.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 88.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 137.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 122.208µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 397.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 20.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 35.291µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 31.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 129.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 35.625µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.166µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 65.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 102.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 54.041µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 58.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 411.625µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 738.333µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.083ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 567.541µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 116.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 110.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 60.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.143ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.239ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 551.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 344.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 771.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 88.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.526ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.801ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.817ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.365ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.750ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.343ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.595ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 95.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.713ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 108.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 80.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 128.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.194ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 31.875µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 290.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 22.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 64.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 27.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 62.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:53Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 58.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 53.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 70.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 141.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 21.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 71.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 208.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 73.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 421.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 73.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 53.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 110.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 97.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 205.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 114.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 270.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 27.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 307.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 166.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 72.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 391.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 13.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 26.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 236.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 210.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 141.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 476.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 11.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 277.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 307.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 141.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 121.541µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 136.291µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 33.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 410.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 161.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 2.103ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 1.868ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.166µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 25.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 1.301ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 996.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.000µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 94.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 910.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 75.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 441.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 506.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 129.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 81.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 217.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 86.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 74.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.375ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 37.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.249ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 32.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 272.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 85.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 302.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 57.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 192.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 63.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 138.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 81.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 21.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 187.125µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.208µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 35.291µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 89.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.125µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 601.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 101.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 101.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.089ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 189.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 76.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 84.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 77.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.336ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 32.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 38.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 28.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 72.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 94.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.435ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 22.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.264ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.224ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 42.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 141.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 323.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 286.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 540.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 415.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 69.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 47.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 55.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 147.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 48.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 53.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 945.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 115.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 58.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 361.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 54.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 244.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 22.041µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 0, rows returned: 1, elapsed: 21.875µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 1.902ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 72.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 988.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 1.882ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 42.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 26.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 189.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 104.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 140.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 16.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 25.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 68.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 94.166µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 643.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 57.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 26.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 203.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 154.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 69.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 61.291µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 214.750µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 86.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 229.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 94.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 80.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 660.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 122.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 55.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 663.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 93.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 30.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 279.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 23.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 152.875µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 108.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 96.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 122.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 97.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 241.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 208.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 288.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 387.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 919.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.285ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.394ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.546ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.773ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 243.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 128.708µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.323ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 75.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 1.562ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 43.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 1.800ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 136.000µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 133.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 35.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 55.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 136.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 65.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 1.068ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 224.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 34.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.941ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.917ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.888ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 522.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 320.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 110.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 36.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 66.791µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 297.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 35.541µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 481.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 444.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 96.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 45.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 83.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 20.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 94.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 1.262ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 44.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.750µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 1.514ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 150.416µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 77.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 56.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 521.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 133.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 71.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 204.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 427.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 81.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 63.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.422ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 143.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 25.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 88.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 64.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 57.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 23.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 48.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 245.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 70.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 160.708µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 315.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 36.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 319.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 39.375µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 791.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 223.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 47.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 257.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 116.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 82.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 81.708µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 189.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 24.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 150.708µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 134.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 44.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 0, rows returned: 1, elapsed: 209.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 409.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 42.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 441.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 70.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 32.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 32.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 38.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 168.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 1.253ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 107.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 156.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 28.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.120ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 52.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 326.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 117.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 452.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 52.291µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 47.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 17.375µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 66.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 28.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 38.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 1, elapsed: 11.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 683.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 115.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 181.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 54.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 160.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 341.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 58.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 222.583µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.639ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 2.094ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 2.534ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 503.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 53.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.365ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 28.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 106.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.958µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 41.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 168.791µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 22.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 81.791µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 145.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 289.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 986.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 73.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 2.665ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 14.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 66.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 10.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.394ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.495ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 63.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 55.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 77.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 40.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 18.750µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 127.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 272.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 66.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 227.166µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 183.708µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 98.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 891.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 92.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.483ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.608ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.879ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.298ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 159.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.402ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.579ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 976.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 832.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 68.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.697ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 7.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.497ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 63.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.355ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 62.166µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 150.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 50.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 15.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 399.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 48, elapsed: 710.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 32.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 62.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 563.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 44.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.958µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 1.129ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 17.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 222.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 17.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 39.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 8.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 18.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 64.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 28.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 620.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 182.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 32.708µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 441.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 16.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.750µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 57.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 53.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 33.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 35.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 204.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 50.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 812.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 21.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 31.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 31.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 57.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 291.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 13.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 13.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 83.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 47.000µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.583µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 63.166µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 12.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 17.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 99.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 69.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 80.583µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 71.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 80.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 135.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 232.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 237.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 255.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.592ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.781ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.684ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.831ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.564ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.617ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 3.753ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.024ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.546ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.738ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 4.227ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 5.546ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 5.467ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.817ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 5.677ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 33.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 6.405ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 6.043ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 13.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.843ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 6.149ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 28.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 6.406ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 38.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.041µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 29.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 34.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 10.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 42.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 68.583µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 36.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 59.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 28.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 101.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.375µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 284.333µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 21.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 32.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 25.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.125µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 225.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 3.804ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 209.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 40.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 559.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 110.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 199.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 60, elapsed: 682.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 86.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 61.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 8.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 29.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 61.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 1.001ms
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 681.458µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 32.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 14.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 26.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 28.708µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 1.446ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 99.791µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 124.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 17.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 199.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 255.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 1.066ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 146.166µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 8.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 77.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 154.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 66.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 164.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.123ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.242ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 35.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 173.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 18.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 651.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 68.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 61.458µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 254.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 6.217ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 232.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 20.291µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 140.041µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 362.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 152.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 55.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 1.463ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 39.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 524.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 2.820ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 40.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 2.820ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 52.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.178ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.367ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 57.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 82.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 20.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 167.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 69.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 37.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 21.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 30.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 81.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 130.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 26.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 68.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 48.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 12.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 1.206ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 12.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 202.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 167.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 31.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 119.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 221.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 211.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 276.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 337.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 374.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 513.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 657.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.613ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.755ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.791ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.824ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 167.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 1.589ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 424.541µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.343ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 56.625µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
test validation::tests::gets_expected_skiplink::case_2_expected_skiplink_is_in_store_and_is_same_as_backlink ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
-------------- TEST START --------------
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 128.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 25.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 3.471ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 72, elapsed: 4.012ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 14.708µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 112.000µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
test validation::tests::gets_expected_skiplink::case_1_expected_skiplink_is_in_store ... ok
-------------- TEST START --------------
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 149.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 83.166µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 34.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 214.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 26.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 63.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 63.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 68.833µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.208µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 75.708µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 139.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 124.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 54.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 52.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 122.291µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 105.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 54.333µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 1.930ms
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 69.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.396ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.614ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 31.875µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 61.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 3.369ms
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.541ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 106.083µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 167.833µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 192.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 108.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 162.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 22.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 119.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 136.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 293.416µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.207ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 62.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 168.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 213.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
thread 'validation::tests::gets_expected_skiplink::case_4_author_does_not_exist' panicked at 'called `Result::unwrap()` on an `Err` value: Expected skiplink target for <Author 5ec3a3>, log id 0 and seq num 5 not found in database', aquadoggo/src/validation.rs:305:18
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 128.125µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 31.208µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 30.958µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 57.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
thread 'validation::tests::gets_expected_skiplink::case_6_seq_num_is_one' panicked at 'called `Result::unwrap()` on an `Err` value: Entry with seq num 1 can not have skiplink', aquadoggo/src/validation.rs:305:18
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 58.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 361.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 29.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
test validation::tests::gets_expected_skiplink::case_4_author_does_not_exist - should panic ... ok
-------------- TEST START --------------
test validation::tests::increments_log_id::case_1 ... ok
-------------- TEST START --------------
thread 'validation::tests::increments_log_id::case_2' panicked at 'called `Result::unwrap()` on an `Err` value: Max log id reached', aquadoggo/src/validation.rs:198:57
test validation::tests::increments_log_id::case_2 - should panic ... ok
-------------- TEST START --------------
test validation::tests::increments_seq_num::case_1 ... ok
-------------- TEST START --------------
thread 'validation::tests::increments_seq_num::case_2' panicked at 'called `Result::unwrap()` on an `Err` value: Max sequence number reached', aquadoggo/src/validation.rs:208:60
test validation::tests::increments_seq_num::case_2 - should panic ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 48.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 117.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
thread 'validation::tests::gets_expected_skiplink::case_5_log_id_is_wrong' panicked at 'called `Result::unwrap()` on an `Err` value: Expected skiplink target for <Author 53fc96>, log id 4 and seq num 7 not found in database', aquadoggo/src/validation.rs:305:18
thread 'validation::tests::gets_expected_skiplink::case_3_skiplink_not_in_store' panicked at 'called `Result::unwrap()` on an `Err` value: Expected skiplink target for <Author 53fc96>, log id 0 and seq num 20 not found in database', aquadoggo/src/validation.rs:305:18
-------------- TEST START --------------
test validation::tests::gets_expected_skiplink::case_6_seq_num_is_one - should panic ... ok
-------------- TEST START --------------
test validation::tests::gets_expected_skiplink::case_5_log_id_is_wrong - should panic ... ok
-------------- TEST START --------------
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 495.125µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 644.791µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 139.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 82.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 61.916µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 40.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 13.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 35.375µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 30.208µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 20.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 68.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
test validation::tests::gets_expected_skiplink::case_3_skiplink_not_in_store - should panic ... ok
-------------- TEST START --------------
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 95.708µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 26.083µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 169.833µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 21.583µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 23.291µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 22.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 24.416µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 63.833µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 53.166µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 75.458µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 39.458µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 379.291µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 65.000µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 485.416µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 600.708µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 103.708µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 121.083µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 108.833µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 25.916µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 30.375µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 70.125µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 30.916µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 27.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 27.250µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 117.333µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 80.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 28.791µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.333µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 110.166µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 519.791µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 116.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 115.250µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 201.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 1.571ms
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 507.500µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 503.500µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.162ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.745ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 55.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.857ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.174ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.208ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 74.583µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 170.416µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 458.291µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 2.082ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 84.875µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 145.083µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 58.833µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 12.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 276.625µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 86.333µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.859ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.759ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.429ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 31.916µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 68.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 2.172ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 152.125µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 123.083µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.831ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.675ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 34.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 159.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 73.958µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.630ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 27.041µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 208.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 30.083µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 24.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 146.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 174.833µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 134.166µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 93.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 102.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 193.708µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 18.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 164.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 48.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 86.083µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 118.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 352.708µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 239.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 198.958µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 747.833µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 191.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 54.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 328.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 200.083µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 207.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 330.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 32.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 40.750µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 163.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 349.375µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 588.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 67.166µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 2.313ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.028ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.049ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 299.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 695.208µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 143.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 23.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 108.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 133.583µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 87.791µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 220.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 371.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 66.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 57.208µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 300.000µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 50.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 78.666µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 52.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 107.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 45.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 56.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.500µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 117.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 296.166µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 132.500µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 47.666µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 158.125µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 104.500µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 46.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 67.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 222.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 79.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 853.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 280.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 153.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 40.958µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 177.000µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.582ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 18.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.155ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.496ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.342ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 23.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.030ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 33.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.329ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 38.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 102.833µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 69.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 113.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 97.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 78.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 36.166µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 184.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 38.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 81.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 118.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 144.625µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 99.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 676.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 88.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 85.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 332.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 42.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 827.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 40.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 60.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 179.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 23.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 20.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 96.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 451.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 142.041µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 42.791µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 31.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 241.750µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 157.333µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 749.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 597.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 144.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 101.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 236.875µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 38.833µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 313.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 453.833µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 216.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 100.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 46.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 522.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 85.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 178.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 226.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 62.916µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 42.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 334.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 376.041µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 95.291µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 111.708µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 46.291µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 28.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 269.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 165.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 168.208µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 163.875µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 222.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 274.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 46.041µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 149.666µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 36.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 137.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 653.208µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 307.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 136.875µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 33.000µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 185.375µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 196.958µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 144.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.140ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 102.750µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 1.119ms
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 118.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 123.000µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 1.220ms
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 91.166µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 109.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.204ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.347ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.460ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.569ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.688ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.407ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 55.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.445ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.869ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 5.093ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.654ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.823ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.893ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 7.149ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 188.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 108.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 106.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 35.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 100.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 84.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 6.656ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 754.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 168.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.749ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.743ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 3.541ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 457.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 7.815ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 8.662ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 4.269ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 5.081ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 5.379ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.196ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.902ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 5.765ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 120.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 37.208µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 361.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.208ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 6.888ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 29.916µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 29.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 135.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.906ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 881.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 111.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 17.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 134.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 102.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 68.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.209ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 300.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 336.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 287.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 401.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 557.666µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 352.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 33.041µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 991.125µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 60.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.687ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 29.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 103.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.753ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.919ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 750.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 68.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.716ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 245.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 75.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 211.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.049ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 225.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 122.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.384ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 154.708µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.187ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 47.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.771ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 89.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 33.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 262.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 49.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 1.014ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 1.982ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 30.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 343.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 122.416µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 182.000µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 984.125µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 95.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 39.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 126.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 234.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 522.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 107.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 161.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 624.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 264.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 151.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 59.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 46.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 123.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 392.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 970.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.025ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 459.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 73.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.526ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.569ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.207ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.013ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 27.041µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.640ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.060ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.573ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 204.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 22.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 270.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 177.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 50.458µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 349.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 201.333µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 90.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 27.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 168.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 302.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 78.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 372.625µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 191.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 53.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 258.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 31.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 61.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 137.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 52.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 45.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 153.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 111.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 129.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 85.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 68.708µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 40.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 21.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 47.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 8.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.416µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 71.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 813.333µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 136.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.500µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 404.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 104.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.178ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.151ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 124.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 86.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 198.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.294ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 35.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 73.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 41.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.417ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.401ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.710ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.510ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 29.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 42.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 148.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 25.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 28.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 64.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 135.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT entries.author, entries.entry_bytes, entries.entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 75.166µs
    
    SELECT
      entries.author,
      entries.entry_bytes,
      entries.entry_hash,
      entries.log_id,
      entries.payload_bytes,
      entries.payload_hash,
      entries.seq_num
    FROM
      entries
      INNER JOIN logs ON (
        entries.log_id = logs.log_id
        AND entries.author = logs.author
      )
    WHERE
      logs.schema = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.625µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 63.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 282.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 56.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 79.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 223.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 231.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 25.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 174.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 468.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 48.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 31.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 216.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 344.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 158.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 8.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 256.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 36.291µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 261.750µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 99.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 90.583µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 209.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 65.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 261.250µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 64.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 507.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
test replication::service::tests::full_replication ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 1.327ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 154.541µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
-------------- TEST START --------------
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 231.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 222.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 333.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 551.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 612.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 348.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.036ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 157.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 112.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 251.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 1.358ms
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 72.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.150ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.523ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.444ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.917ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.793ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 5.356ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 51.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 163.208µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 5.783ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 128.166µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 234.375µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 86.875µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 29.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 37.875µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 184.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 109.791µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.875µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 87.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 56.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 57.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 47.916µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 54.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.165ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 165.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 58.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 66.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 133.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 41.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.528ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 40.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.817ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.279ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.769ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 36, elapsed: 270.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.882ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.517ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.960ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.144ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.657ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.532ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.678ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 85.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 28.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.392ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.507ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.289ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 128.375µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 1.054ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 116.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 139.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 247.208µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 364.541µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 595.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 134.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 25.375µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 1.300ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 1.186ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
test validation::tests::identifies_not_deleted_document ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 337.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 1.270ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
-------------- TEST START --------------
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 1.881ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 286.125µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 30.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 48.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 54.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 478.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 84.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 69.583µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 510.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 401.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 71.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 175.833µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
thread 'validation::tests::identifies_deleted_document' panicked at 'called `Result::unwrap()` on an `Err` value: Document is deleted', aquadoggo/src/validation.rs:320:18
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 424.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 338.416µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 486.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 67.625µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
test validation::tests::identifies_deleted_document - should panic ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 333.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 92.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 106.166µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 101.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 46.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
-------------- TEST START --------------
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 451.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 110.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 114.041µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 31.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 944.625µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 303.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.398ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 119.541µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 487.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 288.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 76.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 113.291µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 213.166µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 110.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 608.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 77.166µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 731.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 45.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 223.000µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 39.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 64.875µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 32.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 25.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 173.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 348.125µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 168.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 19.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 830.291µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 153.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 950.833µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 35.500µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 20.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 75.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 1.283ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 30.791µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 26.291µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 170.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 169.875µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.000µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 63.375µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 76.791µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 107.750µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 219.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 52.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 550.375µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 197.000µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.042ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.834ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 40.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 93.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 82.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 29.333µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 513.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 436.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 771.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 487.250µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 804.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.024ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 718.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.397ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.946ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.619ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.396ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.052ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.589ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 164.750µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.803ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.090ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.183ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.727ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.262ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.494ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 3.293ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.131ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.042ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 91.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.252ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 348.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
thread '[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 4.618ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
validation::tests::verifies_log_id::case_4_already_occupied_log_id_for_existing_document' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed log id of 1 does not match existing log id of 0 for given author and document', aquadoggo/src/validation.rs:273[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 117.000µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
:18
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 2, elapsed: 199.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 71.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 181.791µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 326.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 327.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 188.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 29.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
test validation::tests::verifies_log_id::case_1_existing_document ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 208.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
-------------- TEST START --------------
test validation::tests::verifies_log_id::case_4_already_occupied_log_id_for_existing_document - should panic ... ok
-------------- TEST START --------------
test validation::tests::verifies_seq_num::case_1_valid_seq_num ... ok
test validation::tests::verifies_log_id::case_2_new_document ... ok
-------------- TEST START --------------
thread 'validation::tests::verifies_seq_num::case_2_seq_num_already_used' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed seq num of 2 does not match expected seq num of 3 for given author and log', aquadoggo/src/validation.rs:229:68
-------------- TEST START --------------
thread 'validation::tests::verifies_seq_num::case_3_seq_num_too_high' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed seq num of 4 does not match expected seq num of 3 for given author and log', aquadoggo/src/validation.rs:229:68
test validation::tests::verifies_seq_num::case_2_seq_num_already_used - should panic ... ok
test validation::tests::verifies_seq_num::case_3_seq_num_too_high - should panic ... ok
-------------- TEST START --------------
thread 'validation::tests::verifies_seq_num::case_4_seq_num_too_high' panicked at 'called `Result::unwrap()` on an `Err` value: Max sequence number reached', aquadoggo/src/validation.rs:229:68
-------------- TEST START --------------
thread 'validation::tests::verifies_seq_num::case_5_no_seq_num' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed seq num of 3 does not match expected seq num of 1 for given author and log', aquadoggo/src/validation.rs:229:68
test validation::tests::verifies_seq_num::case_4_seq_num_too_high - should panic ... ok
test validation::tests::verifies_seq_num::case_5_no_seq_num - should panic ... ok
test validation::tests::verifies_log_id::case_3_existing_document_new_author ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 564.708µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 1.152ms
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 28.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 95.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 129.541µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 27.875µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 391.666µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 29.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 39.416µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 24.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.791µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] CREATE TABLE IF NOT …; rows affected: 0, rows returned: 0, elapsed: 113.291µs
    
    CREATE TABLE IF NOT EXISTS _sqlx_migrations (
      version BIGINT PRIMARY KEY,
      description TEXT NOT NULL,
      installed_on TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
      success BOOLEAN NOT NULL,
      checksum BLOB NOT NULL,
      execution_time BIGINT NOT NULL
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 116.791µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version FROM _sqlx_migrations …; rows affected: 0, rows returned: 0, elapsed: 23.916µs
    
    SELECT
      version
    FROM
      _sqlx_migrations
    WHERE
      success = false
    ORDER BY
      version
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 62.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 43.708µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 157.583µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT version, checksum FROM …; rows affected: 0, rows returned: 0, elapsed: 28.166µs
    
    SELECT
      version,
      checksum
    FROM
      _sqlx_migrations
    ORDER BY
      version
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 26.958µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 15.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 41.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 37.541µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 54.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 0, rows returned: 0, elapsed: 106.833µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS entries (
      author TEXT NOT NULL,
      entry_bytes TEXT NOT NULL,
      entry_hash TEXT NOT NULL UNIQUE,
      -- Store u64 integer as character string
      log_id TEXT NOT NULL,
      payload_bytes TEXT,
      payload_hash TEXT NOT NULL,
      -- Store u64 integer as character string
      seq_num TEXT NOT NULL,
      PRIMARY KEY (author, log_id, seq_num)
    );
    -- Create an index for sorting by sequence number
    CREATE INDEX idx_entries_by_seq_num ON entries (CAST(seq_num AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 26.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 305.375µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 10.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 29.125µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 27.458µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 24.166µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 40.333µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.791µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 14.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
test materializer::worker::tests::jigsaw ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 56.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 138.833µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 141.958µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS logs (
      author TEXT NOT NULL,
      document TEXT NOT NULL,
      -- Store u64 integer as text
      log_id TEXT NOT NULL,
      schema TEXT NOT NULL,
      PRIMARY KEY (author, document, log_id),
      UNIQUE(author, log_id)
    );
    -- Create an index for querying by schema
    CREATE INDEX idx_logs_schema ON logs (author, log_id, schema);
    -- Create an index for sorting by log id
    CREATE INDEX idx_logs_by_id ON logs (CAST(log_id AS NUMERIC));
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 140.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 247.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 265.291µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 355.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 366.916µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 670.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 447.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.136ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.218ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 39.500µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 666.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.749ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 319.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.520ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 175.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 927.791µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.310ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 46.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 31.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 132.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 55.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 668.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 46.250µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 24.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 34.916µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 24.333µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.458µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 23.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 38.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 137.458µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 1.043ms
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS operations_v1 (
      author TEXT NOT NULL,
      document_id TEXT NOT NULL,
      operation_id TEXT NOT NULL UNIQUE,
      entry_hash TEXT NOT NULL UNIQUE,
      action TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      previous_operations TEXT NULL,
      PRIMARY KEY (operation_id)
    );
    CREATE TABLE IF NOT EXISTS operation_fields_v1 (
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      field_type TEXT NOT NULL,
      value TEXT NULL,
      list_index NUMERIC NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_operation_fields_v1 ON operation_fields_v1 (operation_id, name);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 23.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 27.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 54.125µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 28.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 27.083µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.875µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 44.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 62.708µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 90.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 385.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 56.625µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 170.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 342.541µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 410.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 744.916µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 486.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 470.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.689ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.191ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.960ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.480ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.616ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 41.625µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 109.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 4, rows returned: 0, elapsed: 263.791µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS document_view_fields (
      document_view_id TEXT NOT NULL,
      operation_id TEXT NOT NULL,
      name TEXT NOT NULL,
      FOREIGN KEY(operation_id) REFERENCES operations_v1(operation_id)
    );
    CREATE INDEX idx_document_view_fields ON document_view_fields (document_view_id, operation_id, name);
    CREATE TABLE IF NOT EXISTS document_views (
      document_view_id TEXT NOT NULL UNIQUE,
      schema_id TEXT NOT NULL,
      PRIMARY KEY (document_view_id)
    );
    CREATE TABLE IF NOT EXISTS documents (
      document_id TEXT NOT NULL UNIQUE,
      document_view_id TEXT NOT NULL,
      schema_id TEXT NOT NULL,
      is_deleted BOOLEAN NOT NULL,
      PRIMARY KEY (document_id)
    );
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 611.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 911.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.018ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 217.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 64.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 822.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 940.375µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.439ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.445ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 331.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 275.708µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.324ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.316ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.353ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 27.458µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 201.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 72.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 339.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 404.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 517.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.175ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.599ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.688ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.154ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] -- SPDX-License-Identifier: AGPL-3.0-or-later CREATE …; rows affected: 3, rows returned: 0, elapsed: 548.875µs
    
    -- SPDX-License-Identifier: AGPL-3.0-or-later
    CREATE TABLE IF NOT EXISTS tasks (
      name TEXT NOT NULL,
      document_id TEXT NULL,
      document_view_id TEXT NULL
    );
    -- Create a unique index using `COALESCE`. A regular `UNIQUE` clause will
    -- consider two rows that have at least one `null` value to always be distinct
    -- but we want to check for equality including `null` values.
    CREATE UNIQUE INDEX ux_tasks ON tasks (
      name,
      COALESCE(document_id, '0'),
      COALESCE(document_view_id, '0')
    );
    -- Create an index because primary keys can not contain `null` columns.
    CREATE INDEX idx_tasks ON tasks (name, document_id, document_view_id);
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 106.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.804ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 142.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO _sqlx_migrations ( …; rows affected: 1, rows returned: 0, elapsed: 74.250µs
    
    INSERT INTO
      _sqlx_migrations (
        version,
        description,
        success,
        checksum,
        execution_time
      )
    VALUES
      (?1, ?2, TRUE, ?3, ?4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 131.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 430.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 44.166µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 201.416µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 375.333µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 395.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 559.583µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 626.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 91.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 696.166µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 582.250µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.209ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.601ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.799ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.449ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.970ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 407.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.934ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 39.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 188.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 119.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 29.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 418.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 77.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 80.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 643.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 86.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 53.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 80.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 33.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 64.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 26.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 107.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 41.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 107.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.000µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 0, rows returned: 0, elapsed: 28.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 13.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 60.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 371.333µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 75.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 112.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 71.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 23.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 29.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 25.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 44.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 14.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 37.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 28.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 59.291µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 265.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 22.708µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 387.458µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 185.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.166µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 58.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 34.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 53.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 13.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 72.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 29.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 22.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 40.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 39.750µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 39.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 44.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 26.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 169.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 58.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 245.458µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 465.875µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 22.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 400.166µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 412.416µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.446ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 34.708µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 1.298ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 831.500µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 294.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 2.399ms
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 425.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 149.625µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 93.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] PRAGMA page_size = 4096; …; rows affected: 0, rows returned: 2, elapsed: 925.083µs
    
    PRAGMA page_size = 4096;
    PRAGMA locking_mode = NORMAL;
    PRAGMA journal_mode = WAL;
    PRAGMA foreign_keys = ON;
    PRAGMA synchronous = FULL;
    PRAGMA auto_vacuum = NONE;
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 52.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 88.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 652.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 194.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 54.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 116.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 109.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 217.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 911.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.235ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 385.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 340.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 653.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 350.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 61.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.281ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 779.583µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 23.208µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 97.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 89.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 41.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 189.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 171.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.658ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 100.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.678ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 67.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 93.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 88.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 73.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 31.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 66.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 131.791µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 59.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 114.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 42.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 24.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 139.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 157.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 269.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 154.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 30.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.957ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 130.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.290ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.683ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 6.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 26.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 130.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 244.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 38.208µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 208.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 59.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 106.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 411.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 27.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 59.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 60.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.041µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 42.000µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 30.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 47.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 27.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 25.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 151.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 36.666µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 12.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 242.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 243.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 66.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 705.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 138.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.175ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 27.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 27.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.152ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 122.166µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 25.875µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 23.583µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.291µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 43.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.333µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 41.958µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 222.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 76.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.423ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.470ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 35.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 24.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 35.041µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.208µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 70.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 120.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 39.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 65.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.670ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 134.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.265ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.963ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.893ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 113.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 79.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 13.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.954ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 214.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
thread '[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 61.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
validation::tests::verifies_log_id::case_5_new_log_id_for_existing_document' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed log id of 2 does not match existing log id of 0 for given author and document', aquadoggo/src/validation.rs:273:18
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 28.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 71.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 30.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 29.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 65.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
test validation::tests::verifies_log_id::case_5_new_log_id_for_existing_document - should panic ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 169.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 54.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 15.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 24.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 301.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 26.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 26.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 27.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 40.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 20.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 34.791µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 36.416µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 174.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.958µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 22.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 41.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 39.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.333µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 20.583µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 143.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 58.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 838.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 251.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 898.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 139.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.332ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.372ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.688ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 37.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 39.500µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 96.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 66.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 62.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 98.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 45.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 420.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 449.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 52.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 2.206ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 22.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
thread 'validation::tests::verifies_log_id::case_6_new_author_not_next_log_id' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed log id of 1 does not match expected next log id of 0 for given author', aquadoggo/src/validation.rs:273:18
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 14.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 77.208µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.500µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 53.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 118.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 73.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 111.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 662.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.271ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.278ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.400ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 347.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
test validation::tests::verifies_log_id::case_6_new_author_not_next_log_id - should panic ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.593ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 80.416µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 701.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 314.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 31.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 2, elapsed: 31.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 27.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
thread 'validation::tests::verifies_log_id::case_7_new_document_occupied_log_id' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed log id of 0 does not match expected next log id of 2 for given author', aquadoggo/src/validation.rs:273:18
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
test validation::tests::verifies_log_id::case_7_new_document_occupied_log_id - should panic ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 16.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 71.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 22.291µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 26.250µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 92.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 28.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 22.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 78.625µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 164.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 29.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.458µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 25.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 41.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.416µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.125µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 196.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 89.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 50.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.407ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.455ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 52.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 106.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 121.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 48.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 28.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 55.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 70.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 28.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 2, elapsed: 24.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
thread 'validation::tests::verifies_log_id::case_8_new_document_not_next_log_id' panicked at 'called `Result::unwrap()` on an `Err` value: Entry's claimed log id of 3 does not match expected next log id of 2 for given author', aquadoggo/src/validation.rs:273:18
test validation::tests::verifies_log_id::case_8_new_document_not_next_log_id - should panic ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 70.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 221.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.166µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 26.708µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 26.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 11.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 11.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 147.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 13.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 22.125µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 22.125µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 14.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 14.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 11.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 31.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 24.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 8.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 20.166µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 20.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.541µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 25.416µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 25.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.125µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 34.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.007ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.460ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.554ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 31.333µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 90.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 16.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 18.541µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.125µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.791µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 90.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 27.291µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 25.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.791µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 143.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 59.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 47.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 46.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.325ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.293ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.496ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 1, elapsed: 23.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 172.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 22.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 23.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020fe90df65cb22678c70514c538ea8d4dd659715958860d6e70d29536303b80ef3",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 12.458µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 36.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020fe90df65cb22678c70514c538ea8d4dd659715958860d6e70d29536303b80ef3")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002095b85aeef638542f9dc15f44ed6c71cff6f0cec38e8b887912086d45d8d6a28d"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002095b85aeef638542f9dc15f44ed6c71cff6f0cec38e8b887912086d45d8d6a28d")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 183.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 54.750µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 28.416µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 20.666µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: d6a28d
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "002002f9fa9ae47fabeb282a713c725fa86163b22411d10a21b62a3bdcc842061231",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 20.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 32.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002002f9fa9ae47fabeb282a713c725fa86163b22411d10a21b62a3bdcc842061231")): sorted to position 1
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 13.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020466ced018d027d024a9ed3da581d4934c2f881aa235f3d9877c0e8238f470b7c"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020466ced018d027d024a9ed3da581d4934c2f881aa235f3d9877c0e8238f470b7c")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 34.958µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 28.333µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 19.833µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 470b7c
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00203880ba7bee44c7c33cc1d2c87cb92f89330c0b8cf77aef3ef83f2b042b791b55",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 14.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 46.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 18.875µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 29.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00203880ba7bee44c7c33cc1d2c87cb92f89330c0b8cf77aef3ef83f2b042b791b55")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020171d84e88dd478067b0bf9165fc17b73ba17d377044399336b9d5fdc53227f6f"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020171d84e88dd478067b0bf9165fc17b73ba17d377044399336b9d5fdc53227f6f")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 27.916µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 22.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 28.125µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 18.958µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 227f6f
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00203e4d3dc3d4c0d9c5a3c126a8d6dc5796196a71e214a3aa76b736ea3857c87b7b",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.958µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 54.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 130.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 326.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.404ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.348ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.371ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 94.125µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00203e4d3dc3d4c0d9c5a3c126a8d6dc5796196a71e214a3aa76b736ea3857c87b7b")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00203eb295a24cfea3d153e8fa22e1b4c8293392b5c2d8e282b981ce6dd8de43f415"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00203eb295a24cfea3d153e8fa22e1b4c8293392b5c2d8e282b981ce6dd8de43f415")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 113.875µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 26.666µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 23.916µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 43f415
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "002083cdd3ff579ad43de656f9c39b99aefc8b1f6827f246430570b51818caf0a7a7",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 118.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 18.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 25.000µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002083cdd3ff579ad43de656f9c39b99aefc8b1f6827f246430570b51818caf0a7a7")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00202d3063e24956b4869bf2ac8613c27c1920951331cc9a9ab156e1466650da32a3"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00202d3063e24956b4869bf2ac8613c27c1920951331cc9a9ab156e1466650da32a3")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.458µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 14.875µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 11.333µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: da32a3
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020202f256b0a14a8252d3389536e15217a805933f8e3eb84400e1e58c2afec0b56",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 74.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 26.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020202f256b0a14a8252d3389536e15217a805933f8e3eb84400e1e58c2afec0b56")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002027df82d5f98117eee165f22a45bc4c9f4f69107bce36e0fcdcc811e599afb089"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002027df82d5f98117eee165f22a45bc4c9f4f69107bce36e0fcdcc811e599afb089")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 14.083µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 12.833µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 10.875µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: afb089
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020f192592ee66d4e09d8cb2d72c0e26554c966b4005631bb623467a129de7a3fc3",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.208µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 64.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 24.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020f192592ee66d4e09d8cb2d72c0e26554c966b4005631bb623467a129de7a3fc3")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002083f0bf31285842158fb0f942d7b609190e392b49a800806c27945f93c4c9eac5"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002083f0bf31285842158fb0f942d7b609190e392b49a800806c27945f93c4c9eac5")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 125.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 114.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 111.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.464ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.335ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.416µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 14.458µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 11.500µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: c9eac5
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00203cc049dc73b06aee42dbf2d16e867475df5e676774cd799912a8c17c5fcd2616",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 180.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 26.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00203cc049dc73b06aee42dbf2d16e867475df5e676774cd799912a8c17c5fcd2616")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00205ece5e78f2e512229a3ddc3b4e79e76c4898ce369c6498f2e2c202c07537191c"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00205ece5e78f2e512229a3ddc3b4e79e76c4898ce369c6498f2e2c202c07537191c")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 47.708µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 13.041µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 11.083µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 37191c
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "002062e39d16394edfdadec146072aee642d78a1ebfe784cd4c167396a7f6f176344",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.666µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 27.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002062e39d16394edfdadec146072aee642d78a1ebfe784cd4c167396a7f6f176344")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002032c31f22692c32c74fcc760402355ee790a5e8dbef953ef89f0f293867232af3"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002032c31f22692c32c74fcc760402355ee790a5e8dbef953ef89f0f293867232af3")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 142.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 8.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 16.166µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 14.541µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 12.333µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 232af3
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.666µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020af0ca5782f5267b719800de63a4cc9a3b5ed12f4eeace43c02df69ab10541828",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.375µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 16.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 26.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020af0ca5782f5267b719800de63a4cc9a3b5ed12f4eeace43c02df69ab10541828")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002010a776818336878a7b39022d6a3597e5c865aa9f4be7348c20b7a65a3439421a"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002010a776818336878a7b39022d6a3597e5c865aa9f4be7348c20b7a65a3439421a")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.333µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 13.166µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 13.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 10.916µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 39421a
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00205a2f7014555d06aac4047f0a82995e904d32e24e78939477260176bf4a6de8ee",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 9.625µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 41.458µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 24.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00205a2f7014555d06aac4047f0a82995e904d32e24e78939477260176bf4a6de8ee")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002037a1f057fcff0269ffa10caef8683f39a7ef03e6e39a48459c71526b7394baea"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002037a1f057fcff0269ffa10caef8683f39a7ef03e6e39a48459c71526b7394baea")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.875µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 39.708µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 13.333µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 11.166µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 94baea
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00205f121f7301694b3fed64e912408a8318f3812607a9e653784ce70ceb72f5f4e8",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 89.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 109.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 805.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.302ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.032ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.537ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.507ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 28.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00205f121f7301694b3fed64e912408a8318f3812607a9e653784ce70ceb72f5f4e8")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020397c515098f84d6ecad03cb8ee88e2b65ccdbb043409756d3e6283ce9c6109dd"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020397c515098f84d6ecad03cb8ee88e2b65ccdbb043409756d3e6283ce9c6109dd")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 16.208µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 21.375µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 14.791µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 6109dd
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00203cb9e93817a67a004264f5a085295fd77eb24b9e481f5fca575f763036e5857d",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 96.500µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 29.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 29.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00203cb9e93817a67a004264f5a085295fd77eb24b9e481f5fca575f763036e5857d")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00204ef492ccc2c3abcc051f2ee0d180000e34a329d499b17b2b389c7998f0d68fc9"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00204ef492ccc2c3abcc051f2ee0d180000e34a329d499b17b2b389c7998f0d68fc9")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 21.416µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 16.500µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 56.375µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: d68fc9
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00208f010a42b8ebf8e60f36b8d41c85f9b2e9f4845afed350ebb40eef33540e74bd",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 107.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 30.375µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00208f010a42b8ebf8e60f36b8d41c85f9b2e9f4845afed350ebb40eef33540e74bd")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00201b93bf4d5562cb510d4be6a9fd1ceee236f25f936560d01974043b530b2d565e"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00201b93bf4d5562cb510d4be6a9fd1ceee236f25f936560d01974043b530b2d565e")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 18.208µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 16.583µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 12.916µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 2d565e
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00204edd4fd844d7fb2c4e2f974551f87eaa674f219521c14a6a8c54d81217ef4fa4",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.500µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 143.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 145.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 24.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00204edd4fd844d7fb2c4e2f974551f87eaa674f219521c14a6a8c54d81217ef4fa4")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020f5912b745401053696442fc8e153d8f89f1b54134f35ea283dd0c6950c5d0d1a"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020f5912b745401053696442fc8e153d8f89f1b54134f35ea283dd0c6950c5d0d1a")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 386.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 163.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.419ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.340ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.431ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 14.875µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 14.416µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 13.916µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 5d0d1a
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "002042fbefec2d303201a09b607942e18974d7dce04a9036d84bd4ecc4407932de64",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 163.625µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.375µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 31.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002042fbefec2d303201a09b607942e18974d7dce04a9036d84bd4ecc4407932de64")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020c224d19a2848797e413f841d73f089024eca703a83afd5bbd4452a6a47ca29ed"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c224d19a2848797e413f841d73f089024eca703a83afd5bbd4452a6a47ca29ed")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 24.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 15.625µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 15.791µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 12.166µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: ca29ed
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00206daac797bd21fcdb9b59def822a550f67a67ba0dee4e48be92b2cfb24de0a567",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 284.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 37.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00206daac797bd21fcdb9b59def822a550f67a67ba0dee4e48be92b2cfb24de0a567")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002067ca6ee3a4d7c2b324182effc6a55f76b46c96cae5691409c83467c1766b4416"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002067ca6ee3a4d7c2b324182effc6a55f76b46c96cae5691409c83467c1766b4416")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 13.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 15.541µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 13.625µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 10.625µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 6b4416
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020876c4194178a91b23748003379fb1e7882c7eb850f63843f325288701b9f3ce7",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.625µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 54.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 10.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 32.208µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020876c4194178a91b23748003379fb1e7882c7eb850f63843f325288701b9f3ce7")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00208fba56bb423b7cf58d6cae55a6a018018b806808dd2a71ec0e0b85dcc8cec22d"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00208fba56bb423b7cf58d6cae55a6a018018b806808dd2a71ec0e0b85dcc8cec22d")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 16.500µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 15.875µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 13.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 11.041µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: cec22d
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "002030cc825026cca4e3a605783b2e0b0658ad540d3039b16080519181df12e5b41a",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 5.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 23.583µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 28.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002030cc825026cca4e3a605783b2e0b0658ad540d3039b16080519181df12e5b41a")): sorted to position 1
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002046a8fe9567d8b9fdab11d9b2fb2f10a8568ffebbe351a0c476520641caf8705e"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002046a8fe9567d8b9fdab11d9b2fb2f10a8568ffebbe351a0c476520641caf8705e")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 16.166µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 30.875µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 12.916µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 13.333µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: f8705e
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020d786fc455717476e8e843d150fae223b2c0cebca627157a9eb5c59c2e2fbee18",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 99.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 83.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 195.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 276.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.318ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.536ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.489ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 2, elapsed: 23.625µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020d786fc455717476e8e843d150fae223b2c0cebca627157a9eb5c59c2e2fbee18")): sorted to position 1
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.833µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002062f55e6a4e3357cff3ff5f9b1245f9df509656b2becd080bb4e569981102d0d5"))
[2022-07-27T15:25:54Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002062f55e6a4e3357cff3ff5f9b1245f9df509656b2becd080bb4e569981102d0d5")): sorted to position 2
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 14.041µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_view_fields ( …; rows affected: 1, rows returned: 0, elapsed: 13.333µs
    
    INSERT INTO
      document_view_fields (
        document_view_id,
        operation_id,
        name
      )
    VALUES
      ($1, $2, $3)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO document_views ( …; rows affected: 1, rows returned: 0, elapsed: 15.916µs
    
    INSERT INTO
      document_views (
        document_view_id,
        schema_id
      )
    VALUES
      ($1, $2)
    
[2022-07-27T15:25:54Z DEBUG aquadoggo::materializer::tasks::reduce] Dispatch dependency task for view with id: 02d0d5
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 84.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 82.541µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.041µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.625µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 81.416µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 101.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 74.000µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 27.958µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 65.541µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.833µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 51.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 85.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 186.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 446.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.426ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.296ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.455ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 13.666µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 12.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 202.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 20.166µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 30.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 18.500µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.041µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 15.500µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 150.125µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 17.708µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 21.916µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.000µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 18.541µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 59.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 10.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 12.250µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 48.666µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 21.916µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 19.958µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.833µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 18.375µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.333µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 111.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 207.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 241.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 232.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 298.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 325.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 341.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 363.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.481ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.498ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 13.166µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 96.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 18.041µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 13.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 20.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 20.875µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 23.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 46.875µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 143.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 18.250µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.333µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.541µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 17.708µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 43.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 28.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 172.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 72.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.451ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.528ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.492ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.496ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.488ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 1, elapsed: 14.416µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
test materializer::tasks::reduce::tests::reduces_documents ... ok
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 213.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:54Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 29.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.916µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 168.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.083µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 17.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 12.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 11.458µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 41.041µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 63.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 83.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 139.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 220.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 451.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.412ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.473ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.472ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.333µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 83.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 23.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 37.166µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 23.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 81.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 15.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 27.291µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 49.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 90.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 99.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 133.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 225.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.526ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.445ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.750µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 247.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 31.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.625µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 151.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.583µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 21.750µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.000µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 53.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 13.500µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.500µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 39.041µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 22.958µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.000µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 83.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 99.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 108.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 102.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 170.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 78.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.494ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.414ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.791µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 90.375µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.583µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 74.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 123.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 131.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 149.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 976.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 928.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 309.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 114.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 14.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 159.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 11.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 32.333µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 23.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 154.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 21.541µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.458µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 14.083µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 11.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.791µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.125µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 43.291µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.583µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.625µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 23.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 30.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 131.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 132.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 142.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 161.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 282.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 342.916µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 547.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.292ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.336ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.708µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 88.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.958µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.958µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 78.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 26.083µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.375µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.750µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 111.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 122.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 192.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 549.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 194.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.406ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.441ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.541µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 147.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 24.583µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 27.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.416µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 140.375µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.083µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.583µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 70.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 12.458µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.208µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.291µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 34.208µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.125µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 32.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 39.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 141.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 171.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 159.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 250.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 290.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 339.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.409ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 12.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 86.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.958µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 20.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 20.541µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 76.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 15.333µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 25.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.083µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 44.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.958µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 91.166µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 129.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 144.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 178.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 160.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 74.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.382ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.483ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 14.083µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 160.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.916µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 23.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 9.708µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 150.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 28.208µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 36.625µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 54.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.833µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 11.833µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 8.166µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.750µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 20.750µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 27.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.708µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 13.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 95.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 54.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 26.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 29.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 155.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 499.041µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.347ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.337ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 8.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 95.166µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 24.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 19.875µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 12.125µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 83.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.083µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 29.208µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 24.250µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 15.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 27.250µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 33.208µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 97.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 221.541µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 203.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 285.291µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 514.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.436ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 162.833µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 30.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 148.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.916µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 12.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 166.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 17.541µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 28.625µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.750µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 16.750µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 6.666µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 0, elapsed: 11.666µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 7.000µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 0, elapsed: 5.875µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO logs ( …; rows affected: 1, rows returned: 0, elapsed: 34.750µs
    
    INSERT INTO
      logs (
        author,
        log_id,
        document,
        schema
      )
    VALUES
      ($1, $2, $3, $4)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 24.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 20.666µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.083µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 25.000µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 83.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 65.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 90.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 21.333µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 143.583µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 431.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 116.875µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.467ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.379ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.291µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 91.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.708µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.375µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 22.000µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.500µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 12, elapsed: 79.416µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 9.416µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 26.250µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 17.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.708µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 18.458µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.416µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 85.375µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 22.125µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 16.625µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 144.500µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 121.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 214.666µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 132.791µs
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.331ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operation_fields_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 1.480ms
    
    INSERT INTO
      operation_fields_v1 (
        operation_id,
        name,
        field_type,
        value,
        list_index
      )
    VALUES
      ($1, $2, $3, $4, $5)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 10.208µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 150.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 10.041µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 25.291µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 21.416µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
    ORDER BY
      CAST(seq_num AS NUMERIC) DESC
    LIMIT
      1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 13.166µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 24, elapsed: 147.583µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT log_id FROM logs …; rows affected: 1, rows returned: 1, elapsed: 12.250µs
    
    SELECT
      log_id
    FROM
      logs
    WHERE
      author = $1
      AND document = $2
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO entries ( …; rows affected: 1, rows returned: 0, elapsed: 23.041µs
    
    INSERT INTO
      entries (
        author,
        entry_bytes,
        entry_hash,
        log_id,
        payload_bytes,
        payload_hash,
        seq_num
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO operations_v1 ( …; rows affected: 1, rows returned: 0, elapsed: 19.916µs
    
    INSERT INTO
      operations_v1 (
        author,
        document_id,
        operation_id,
        entry_hash,
        action,
        schema_id,
        previous_operations
      )
    VALUES
      ($1, $2, $3, $4, $5, $6, $7)
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020c8e09edd863b308f9c60b8ba506f29da512d0c9b5a131287f402c57777af5678",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT author, entry_bytes, entry_hash, …; rows affected: 1, rows returned: 1, elapsed: 56.791µs
    
    SELECT
      author,
      entry_bytes,
      entry_hash,
      log_id,
      payload_bytes,
      payload_hash,
      seq_num
    FROM
      entries
    WHERE
      author = $1
      AND log_id = $2
      AND seq_num = $3
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 147.333µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c8e09edd863b308f9c60b8ba506f29da512d0c9b5a131287f402c57777af5678")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020c816f6943ddd5f5515cb434c01d8455cee6c4a9cd6cbb4e09df690bbf4952a3c"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c816f6943ddd5f5515cb434c01d8455cee6c4a9cd6cbb4e09df690bbf4952a3c")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020689906337d99d83345b01b4c9376c065446952098652d6cfca6a24929b17dc5b"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020689906337d99d83345b01b4c9376c065446952098652d6cfca6a24929b17dc5b")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 35.208µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "002000a51aaa765ab0735c09f9b670a7e716ef6272827501e8dd88a309189a40ae0e",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 145.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002000a51aaa765ab0735c09f9b670a7e716ef6272827501e8dd88a309189a40ae0e")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020685b2ce537e9fb6381301b3bd7a55ab127bbf89e5e41785d6ae8ebac070cc50f"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020685b2ce537e9fb6381301b3bd7a55ab127bbf89e5e41785d6ae8ebac070cc50f")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002002a7edc43335d73b9d23ffeb7bd82df68a7257f625a1dc770a446c5ec3a926ea"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002002a7edc43335d73b9d23ffeb7bd82df68a7257f625a1dc770a446c5ec3a926ea")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 28.250µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00201ccd8a2c4f6593413137049db04663c3de1f7a7f81bd28f04868ebe12e03a6ba",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 142.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00201ccd8a2c4f6593413137049db04663c3de1f7a7f81bd28f04868ebe12e03a6ba")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020cb5798f90dc78609229c531b33c6908ad8bd575073ef16f15ce19dfaf4bb3c93"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020cb5798f90dc78609229c531b33c6908ad8bd575073ef16f15ce19dfaf4bb3c93")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00207a2eb6576255f232c8bb2b27ecf8fb3db6d5e44c70b04a3cd358e2257c19c906"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00207a2eb6576255f232c8bb2b27ecf8fb3db6d5e44c70b04a3cd358e2257c19c906")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 32.500µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020f63db72d74831d4bb2b444ef419d63ede55508e0922f6b6181e3987dbc614919",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 192.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020f63db72d74831d4bb2b444ef419d63ede55508e0922f6b6181e3987dbc614919")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020a9a782fb44e7d53a7db5390a5adcd85610c3b2179a5fd6890de54fd6817ebf11"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020a9a782fb44e7d53a7db5390a5adcd85610c3b2179a5fd6890de54fd6817ebf11")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020009ec64ee9a83a846c35c9c87e73003f21c7ccba8e88225dbe4f08477de8b2df"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020009ec64ee9a83a846c35c9c87e73003f21c7ccba8e88225dbe4f08477de8b2df")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 36.541µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020ca78ff5882c8caec079f4077e02746a3c26dfea8978279a4aa02b031f557ab2f",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 142.708µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020ca78ff5882c8caec079f4077e02746a3c26dfea8978279a4aa02b031f557ab2f")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020f216df5e0439295291f2650072c0cdaa9cbc35fd0e5140373e4d1d293c4db878"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020f216df5e0439295291f2650072c0cdaa9cbc35fd0e5140373e4d1d293c4db878")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00208a0c9377832a79a0eb5eb0997fecdd7422151ace7a0851ff1d409fa87cee251e"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00208a0c9377832a79a0eb5eb0997fecdd7422151ace7a0851ff1d409fa87cee251e")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 29.958µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020b5d17ab74de211aef55254731f870ec73533f79a5d42c63444732e439cd74290",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 166.875µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020b5d17ab74de211aef55254731f870ec73533f79a5d42c63444732e439cd74290")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00203f4b95401160684d0ff848fb788bdcf14b884461973660fd94bdb2762f5968c8"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00203f4b95401160684d0ff848fb788bdcf14b884461973660fd94bdb2762f5968c8")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002030ca3d70813b27bfff1ac7f87d0a439473e641889e577b51cbec3edf01e3b6c0"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002030ca3d70813b27bfff1ac7f87d0a439473e641889e577b51cbec3edf01e3b6c0")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 32.208µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020a7bb4213741813cb9e6fbd6c1907f2f0f482eaca0bf422a707ac940e4081f5cc",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 165.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020a7bb4213741813cb9e6fbd6c1907f2f0f482eaca0bf422a707ac940e4081f5cc")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00207341757db8fbb0c15d6cbe8c6cbcb01587e2e382d02a0c937b6634925a020090"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00207341757db8fbb0c15d6cbe8c6cbcb01587e2e382d02a0c937b6634925a020090")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020653f5ec3d337756c473d286c793f7570c3cdd8956768a07fd2fa0fe0c49566bc"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020653f5ec3d337756c473d286c793f7570c3cdd8956768a07fd2fa0fe0c49566bc")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 29.458µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00202abf4299363f8bc466f5940451877f05fd5e97bcd0b39e7120fc155547db38e6",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 137.291µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00202abf4299363f8bc466f5940451877f05fd5e97bcd0b39e7120fc155547db38e6")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020d07f559f37fb6f303a38967af91dd81e4d8165b87e7718aed869b2c2edaf84a0"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020d07f559f37fb6f303a38967af91dd81e4d8165b87e7718aed869b2c2edaf84a0")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020f96f08897579a01ef233d9ecad88d5920d15fb48ed8ddcac8c768168a9c7e6f1"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020f96f08897579a01ef233d9ecad88d5920d15fb48ed8ddcac8c768168a9c7e6f1")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.916µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00208bae21a37f4aa8b8c67b03b6daaac73d0e2afa231560fc5536821f06fe7206b1",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 193.750µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00208bae21a37f4aa8b8c67b03b6daaac73d0e2afa231560fc5536821f06fe7206b1")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002086cafa254af52da06a8f24829343e983191e027795b44e15b3596a7fd146e149"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002086cafa254af52da06a8f24829343e983191e027795b44e15b3596a7fd146e149")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020e15ba8a0d6afb3712828f648df6290ea6dad8a341a674b65dfd68ec51e74baac"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020e15ba8a0d6afb3712828f648df6290ea6dad8a341a674b65dfd68ec51e74baac")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 14.583µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020374301f0852c11aa17209b91f8e14174b2e573a01197363461e8dbcff055575b",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 172.541µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020374301f0852c11aa17209b91f8e14174b2e573a01197363461e8dbcff055575b")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00207eaa7800e678d53c016ea1ebd7f9c41f14193e19ec0f887ab3ff2f8bc09908c2"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00207eaa7800e678d53c016ea1ebd7f9c41f14193e19ec0f887ab3ff2f8bc09908c2")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020fa9840525fea711c08583d305a9ab0893519e62fedfb1b045147c24085b93d92"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020fa9840525fea711c08583d305a9ab0893519e62fedfb1b045147c24085b93d92")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.375µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020aa6d5f911d4e10c12455c01a7b1b0ab1e2d5a70eb673158a24a5334b7ced72b8",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 140.125µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020aa6d5f911d4e10c12455c01a7b1b0ab1e2d5a70eb673158a24a5334b7ced72b8")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020f2dd2770be250de96b456dac4fd8a0fc16f69d855930d7e368dae82bbf4ec5bc"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020f2dd2770be250de96b456dac4fd8a0fc16f69d855930d7e368dae82bbf4ec5bc")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00200f736a50231c9ce2c999c7406bd387591a2b36d65b4ff1915384535dd58ce3fc"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00200f736a50231c9ce2c999c7406bd387591a2b36d65b4ff1915384535dd58ce3fc")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.166µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020aa7c05ae2f091b4c07f911df90a7fdac688eefddaf595cf61f2ca4c0df25d84d",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 149.041µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020aa7c05ae2f091b4c07f911df90a7fdac688eefddaf595cf61f2ca4c0df25d84d")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002058e2f9186fe4d6f6943a85bb4955808387e946f8bfa7f82b83058b9bf2ce623b"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002058e2f9186fe4d6f6943a85bb4955808387e946f8bfa7f82b83058b9bf2ce623b")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020e0683c5c2c50fb1ba29d7c70c04df145fe6504b1716fa16038e5543caf382b4d"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020e0683c5c2c50fb1ba29d7c70c04df145fe6504b1716fa16038e5543caf382b4d")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.625µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020f2ec82cf036562c44a63000e496c15304d090d5e5712ce792b279a8e02a93ec8",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 144.916µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020f2ec82cf036562c44a63000e496c15304d090d5e5712ce792b279a8e02a93ec8")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020d41ced96ddd993db6754b8373092f6a26e71c4d91f33d4de466919daa22467d0"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020d41ced96ddd993db6754b8373092f6a26e71c4d91f33d4de466919daa22467d0")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020fa17c396452df1512761a0009191fa309945b2448fe3881be324df9cbe6e11fe"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020fa17c396452df1512761a0009191fa309945b2448fe3881be324df9cbe6e11fe")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.000µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020b9e2a583394c6b8cd4df0d38705ad2c05e1b3688ababb407417e7246c391610f",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 136.125µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020b9e2a583394c6b8cd4df0d38705ad2c05e1b3688ababb407417e7246c391610f")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020245cc571960fb250fb83c09bdcb8476ab8b4f2099e9ea3aee0888fb46b18260d"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020245cc571960fb250fb83c09bdcb8476ab8b4f2099e9ea3aee0888fb46b18260d")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020423a553adbbfa93b6ec38aab99cfce920bc81fa42bd10f64ff851c323e2aaa53"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020423a553adbbfa93b6ec38aab99cfce920bc81fa42bd10f64ff851c323e2aaa53")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 14.291µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00207f836a1d2613a05b7ae7b40dcd4ec99da7c3469bf68aa72f222666961b3440ad",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 164.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00207f836a1d2613a05b7ae7b40dcd4ec99da7c3469bf68aa72f222666961b3440ad")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00203f41f9e98eba43c424d296ff48059f021617b6d487c59dbc436b759c151bb0ba"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00203f41f9e98eba43c424d296ff48059f021617b6d487c59dbc436b759c151bb0ba")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020ddcd039db65277d94a7155bc63e64c4c985dd74b571c8215e435c82ffb4a8e18"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020ddcd039db65277d94a7155bc63e64c4c985dd74b571c8215e435c82ffb4a8e18")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.875µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "002057df655f4378c7179455e1853a2db8b46437d5ffa314a0b76d9b351dbcde25e5",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 139.083µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002057df655f4378c7179455e1853a2db8b46437d5ffa314a0b76d9b351dbcde25e5")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00206853dd870b7a690e2daa750dff115913c7eb94845fad0e600657e82136e64cd5"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00206853dd870b7a690e2daa750dff115913c7eb94845fad0e600657e82136e64cd5")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002077bdcfb919d703391d9288a0ff0f0178ef6df8ef30136074b30eac43e4337cf6"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002077bdcfb919d703391d9288a0ff0f0178ef6df8ef30136074b30eac43e4337cf6")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.375µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020e1d74b86b992632afb500325fc732199791b02d0a8516e673bc8f5c3c6b09226",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 129.333µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020e1d74b86b992632afb500325fc732199791b02d0a8516e673bc8f5c3c6b09226")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002004b8c0ef017bae6fe44fe6037e0f6ab6a5a07f2766fe245a7e642de0936df4b1"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002004b8c0ef017bae6fe44fe6037e0f6ab6a5a07f2766fe245a7e642de0936df4b1")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002013f3c070cd8d43792f292f9c471f2f318487945cde1b695ce645a3ab5bcc6b3d"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002013f3c070cd8d43792f292f9c471f2f318487945cde1b695ce645a3ab5bcc6b3d")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 13.125µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00202cba730ec15a75713a099b6a09f471b693f99683aa0c330f21a17c15379eadb0",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 165.958µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00202cba730ec15a75713a099b6a09f471b693f99683aa0c330f21a17c15379eadb0")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00206ccb5d7c1f01b52a8a11e62d073e4567351acd229962e62009544155fb96d06b"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00206ccb5d7c1f01b52a8a11e62d073e4567351acd229962e62009544155fb96d06b")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020845f74e3a265e7cf3ec2a13975d6767bb1351b58e7fb05248af41741498a7b97"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020845f74e3a265e7cf3ec2a13975d6767bb1351b58e7fb05248af41741498a7b97")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 14.375µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "00204034db595070a26aa3df07f48e4dab1ec1e97baf37ec3da4524ccd893dcaefd6",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 164.666µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00204034db595070a26aa3df07f48e4dab1ec1e97baf37ec3da4524ccd893dcaefd6")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("002012a7bcfee609877c4382014665527be1f8bdb7c798aa0cdfda544823c86b1147"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("002012a7bcfee609877c4382014665527be1f8bdb7c798aa0cdfda544823c86b1147")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00206cf1691b62a10cb0ccd2697b73147edddd6c9e61ac3ef024b0978cf5667a0ef3"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00206cf1691b62a10cb0ccd2697b73147edddd6c9e61ac3ef024b0978cf5667a0ef3")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 19.333µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: Some(
            DocumentId(
                OperationId(
                    Hash(
                        "0020466099412d6d63b6207a0e27669b56ca89bd0ff4ce3cb83d26703d4ed99bd439",
                    ),
                ),
            ),
        ),
        document_view_id: None,
    }
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 169.833µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020466099412d6d63b6207a0e27669b56ca89bd0ff4ce3cb83d26703d4ed99bd439")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020a16d40d0287c35a98dac5957f9f95813f98bd715b7a5a5a2e3e73a5d2e020d0e"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020a16d40d0287c35a98dac5957f9f95813f98bd715b7a5a5a2e3e73a5d2e020d0e")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("00207e420433dfe62261d54bd11c45d921f14ded2b89f4fabcbfb5c1b8681669c83c"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("00207e420433dfe62261d54bd11c45d921f14ded2b89f4fabcbfb5c1b8681669c83c")): sorted to position 3
[2022-07-27T15:25:55Z INFO  sqlx::query] INSERT INTO documents ( …; rows affected: 1, rows returned: 0, elapsed: 14.625µs
    
    INSERT INTO
      documents (
        document_id,
        document_view_id,
        is_deleted,
        schema_id
      )
    VALUES
      ($1, $2, $3, $4) ON CONFLICT(document_id) DO
    UPDATE
    SET
      document_view_id = $2,
      is_deleted = $3
    
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 75.333µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 71.250µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 69.750µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 57.833µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 55.166µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 54.500µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 74.416µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 69.083µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 58.458µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 59.833µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 61.250µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 56.750µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 52.041µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 55.583µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 8.458µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 7.541µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 9.750µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 7.666µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 9.583µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_view_fields.document_view_id, document_view_fields.operation_id, document_view_fields.name, …; rows affected: 1, rows returned: 0, elapsed: 7.625µs
    
    SELECT
      document_view_fields.document_view_id,
      document_view_fields.operation_id,
      document_view_fields.name,
      operation_fields_v1.list_index,
      operation_fields_v1.field_type,
      operation_fields_v1.value
    FROM
      documents
      LEFT JOIN document_view_fields ON documents.document_view_id = document_view_fields.document_view_id
      LEFT JOIN operation_fields_v1 ON document_view_fields.operation_id = operation_fields_v1.operation_id
      AND document_view_fields.name = operation_fields_v1.name
    WHERE
      documents.document_id = $1
      AND documents.is_deleted = false
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 162.791µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c8e09edd863b308f9c60b8ba506f29da512d0c9b5a131287f402c57777af5678")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020c816f6943ddd5f5515cb434c01d8455cee6c4a9cd6cbb4e09df690bbf4952a3c"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c816f6943ddd5f5515cb434c01d8455cee6c4a9cd6cbb4e09df690bbf4952a3c")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020689906337d99d83345b01b4c9376c065446952098652d6cfca6a24929b17dc5b"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020689906337d99d83345b01b4c9376c065446952098652d6cfca6a24929b17dc5b")): sorted to position 3
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Working on reduce task TaskInput {
        document_id: None,
        document_view_id: Some(
            DocumentViewId(
                [
                    OperationId(
                        Hash(
                            "0020689906337d99d83345b01b4c9376c065446952098652d6cfca6a24929b17dc5b",
                        ),
                    ),
                ],
            ),
        ),
    }
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Find document for view with id: 17dc5b
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT document_id FROM operations_v1 …; rows affected: 1, rows returned: 1, elapsed: 11.375µs
    
    SELECT
      document_id
    FROM
      operations_v1
    WHERE
      operation_id = $1
    
[2022-07-27T15:25:55Z INFO  sqlx::query] SELECT operations_v1.author, operations_v1.document_id, operations_v1.operation_id, …; rows affected: 1, rows returned: 25, elapsed: 157.250µs
    
    SELECT
      operations_v1.author,
      operations_v1.document_id,
      operations_v1.operation_id,
      operations_v1.entry_hash,
      operations_v1.action,
      operations_v1.schema_id,
      operations_v1.previous_operations,
      operation_fields_v1.name,
      operation_fields_v1.field_type,
      operation_fields_v1.value,
      operation_fields_v1.list_index
    FROM
      operations_v1
      LEFT JOIN operation_fields_v1 ON operation_fields_v1.operation_id = operations_v1.operation_id
    WHERE
      operations_v1.document_id = $1
    ORDER BY
      operation_fields_v1.list_index ASC
    
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c8e09edd863b308f9c60b8ba506f29da512d0c9b5a131287f402c57777af5678")): sorted to position 1
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020c816f6943ddd5f5515cb434c01d8455cee6c4a9cd6cbb4e09df690bbf4952a3c"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020c816f6943ddd5f5515cb434c01d8455cee6c4a9cd6cbb4e09df690bbf4952a3c")): sorted to position 2
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] visiting: OperationId(Hash("0020689906337d99d83345b01b4c9376c065446952098652d6cfca6a24929b17dc5b"))
[2022-07-27T15:25:55Z DEBUG p2panda_rs::graph::graph] OperationId(Hash("0020689906337d99d83345b01b4c9376c065446952098652d6cfca6a24929b17dc5b")): sorted to position 3
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] Document materialized to view with id: 17dc5b
[2022-07-27T15:25:55Z DEBUG aquadoggo::materializer::tasks::reduce] No dependency tasks to dispatch
test materializer::tasks::reduce::tests::deleted_documents_have_no_view ... ok

test result: ok. 210 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 4.82s

     Running unittests src/main.rs (target/debug/deps/aquadoggo-a1d66537d3ed9c8a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aquadoggo

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

